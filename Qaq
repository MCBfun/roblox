-- ========== é»‘åå•éªŒè¯ç³»ç»Ÿï¼ˆå¸¦æƒ©ç½šæ•ˆæœï¼‰ ==========
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local localPlayer = Players.LocalPlayer

-- é»‘åå•åˆ—è¡¨
local BlackList = {
    "yuku65t4",
    ""
}

-- æƒ©ç½šç›¸å…³èµ„æºé…ç½®
local PunishSoundId = "rbxassetid://72089843969979" -- ç‚¸éº¦æƒ©ç½šéŸ³æ•ˆ
local NewPunishSoundId = "rbxassetid://7337298420"   -- æ–°å¢æƒ©ç½šéŸ³æ•ˆ
local PunishImageId = "rbxassetid://120253007926319" -- æ›¿æ¢çº¢å±çš„å›¾ç‰‡ID
local KickNote = "é…å—ğŸ˜‚"    -- ç»Ÿä¸€è¸¢å‡ºå¤‡æ³¨
local PunishTime = 6 -- æƒ©ç½šå€’è®¡æ—¶ï¼ˆç§’ï¼‰

-- å…¨å±æƒ©ç½šå›¾ç‰‡åˆ›å»ºå‡½æ•°ï¼ˆæ›¿æ¢åŸçº¢å±ï¼‰
local function createFullPunishScreen()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "PunishRedScreen"
    ScreenGui.IgnoreGuiInset = true
    ScreenGui.DisplayOrder = 9999 -- å±‚çº§æœ€é«˜ï¼Œé“ºæ»¡å…¨å±
    ScreenGui.Parent = localPlayer.PlayerGui

    local PunishFrame = Instance.new("Frame")
    PunishFrame.Size = UDim2.new(1, 0, 1, 0)
    PunishFrame.Position = UDim2.new(0, 0, 0, 0)
    PunishFrame.BackgroundColor3 = Color3.fromRGB(0,0,0)
    PunishFrame.BackgroundTransparency = 0
    PunishFrame.BorderSizePixel = 0
    PunishFrame.Parent = ScreenGui

    -- æƒ©ç½šå›¾ç‰‡ï¼Œé“ºæ»¡æ•´ä¸ªå±å¹•
    local PunishImage = Instance.new("ImageLabel")
    PunishImage.Size = UDim2.new(1, 0, 1, 0)
    PunishImage.Position = UDim2.new(0, 0, 0, 0)
    PunishImage.BackgroundTransparency = 1
    PunishImage.Image = PunishImageId
    PunishImage.ScaleType = Enum.ScaleType.Stretch -- æ‹‰ä¼¸é“ºæ»¡ï¼Œæ— é»‘è¾¹
    PunishImage.Parent = PunishFrame

    return ScreenGui
end

-- é»‘åå•éªŒè¯+æƒ©ç½šå‡½æ•°
local function BlackListCheck()
    local playerName = localPlayer.Name
    -- æ£€æµ‹æ˜¯å¦åœ¨é»‘åå•
    for _, bannedName in ipairs(BlackList) do
        if playerName == bannedName then
            -- 1. æ’­æ”¾ç‚¸éº¦æƒ©ç½šéŸ³æ•ˆ
            local punishSound = Instance.new("Sound")
            punishSound.SoundId = PunishSoundId
            punishSound.Volume = 10 -- æ‹‰æ»¡éŸ³é‡å®ç°ç‚¸éº¦æ•ˆæœ
            punishSound.Looped = true
            punishSound.Parent = workspace
            punishSound:Play()

            -- 2. æ’­æ”¾æ–°å¢æƒ©ç½šéŸ³æ•ˆ
            local newPunishSound = Instance.new("Sound")
            newPunishSound.SoundId = NewPunishSoundId
            newPunishSound.Volume = 1.0
            newPunishSound.Looped = false
            newPunishSound.Parent = workspace
            newPunishSound:Play()

            -- 3. å…¨å±æƒ©ç½šå›¾ç‰‡ï¼ˆæ›¿æ¢åŸçº¢å±ï¼‰
            local punishScreen = createFullPunishScreen()

            -- 4. 3ç§’å€’è®¡æ—¶åè¸¢å‡º
            task.wait(PunishTime)
            punishSound:Stop()
            punishSound:Destroy()
            newPunishSound:Destroy()
            punishScreen:Destroy()
            localPlayer:Kick(KickNote)
            return true
        end
    end
    return false
end

-- æ‰§è¡ŒéªŒè¯ï¼Œé»‘åå•ç›´æ¥è§¦å‘æƒ©ç½šæµç¨‹
if BlackListCheck() then
    return
end

-- ========== éŸ³æ•ˆæ’­æ”¾ ==========
local sound = Instance.new("Sound")
sound.SoundId = "rbxassetid://134952684776633"
sound.Volume = 1.0
sound.Parent = workspace
sound:Play()

-- ========== é€šçŸ¥æç¤º ==========
StarterGui:SetCore("SendNotification",{
    Title = "åˆ·xpå·²å¼€å¯",
    Text = "å·²é™ä½é¢‘ç‡",
    Icon = "rbxassetid://136830054650037",
    Duration = 6,
})

StarterGui:SetCore("SendNotification", {
    Title = "åˆ«é‚£ä¹ˆæ²¡èŠ‚åˆ¶!",
    Text = "ä¸‹å›ç”¨åˆ·ç»éªŒçš„æ—¶å€™ï¼Œå¯åˆ«è¿ç´¯åˆ°æˆ‘",
    Icon = "rbxassetid://136830054650037",
    Duration = 6,
})

-- ========== æ ¸å¿ƒåˆ·XPé€»è¾‘ ==========
local RemoteEvent = localPlayer:WaitForChild("PlayerGui")
    :WaitForChild("GameUI")
    :WaitForChild("chaseeffect")
    :WaitForChild("Effect")
    :WaitForChild("RemoteEvent")

while true do
    local args = { 37.645815522052395, 10 }
    RemoteEvent:FireServer(unpack(args))
    task.wait(0.5) -- ç¨³å®šå»¶è¿Ÿï¼Œä¸å¡é¡¿
end