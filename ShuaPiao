game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "å…¬å‘Š",
    Text = "ç»™ä¸ªä¸‰è¿å§ï¼",
    Icon = "rbxassetid://139532409537387",
    Duration = 2,
    Position = UDim2.new(0, 20, 1, -50)
})
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "å…¬å‘Š",
    Text = "æ¸”ç‚’é±¼",
    Icon = "rbxassetid://28872862",
    Duration = 3,
    Position = UDim2.new(0, 20, 1, -50)
})

-- æ£€æŸ¥æœ¬åœ°ç©å®¶
local Players = game:GetService("Players")
local localPlayer
local success, err = pcall(function()
    localPlayer = Players.LocalPlayer
end)

if not success then
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "é”™è¯¯",
        Text = "æ— æ³•è·å–æœ¬åœ°ç©å®¶",
        Duration = 5
    })
    return
end

-- ç­‰å¾…PlayerGui
local PlayerGui
local success2, err2 = pcall(function()
    PlayerGui = localPlayer:WaitForChild("PlayerGui", 10)
end)

if not success2 then
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "é”™è¯¯",
        Text = "æ— æ³•åŠ è½½ç©å®¶ç•Œé¢",
        Duration = 5
    })
    return
end

local UserInputService = game:GetService("UserInputService")

-- åˆ›å»ºUI
local ui = Instance.new("ScreenGui")
ui.Name = "ToolboxUI"
ui.Parent = PlayerGui
ui.IgnoreGuiInset = false
ui.ResetOnSpawn = false

-- æµ®åŠ¨æŒ‰é’®ï¼ˆç”¨äºé‡æ–°æ‰“å¼€UIï¼‰
local floatButton = Instance.new("TextButton")
floatButton.Size = UDim2.new(0, 50, 0, 50)
floatButton.Position = UDim2.new(0, 10, 0.8, 0)
floatButton.BackgroundColor3 = Color3.fromRGB(76, 175, 80)
floatButton.Text = "â•ï¸"
floatButton.TextColor3 = Color3.fromRGB(255, 255, 255)
floatButton.TextSize = 24
floatButton.Visible = true
floatButton.Parent = ui

-- æµ®åŠ¨æŒ‰é’®åœ†è§’
local floatCorner = Instance.new("UICorner")
floatCorner.CornerRadius = UDim.new(1, 0)
floatCorner.Parent = floatButton

-- ä¸»é¢æ¿
local panel = Instance.new("Frame")
panel.Size = UDim2.new(0, 280, 0, 220)
panel.Position = UDim2.new(0.5, -140, 0.5, -110)
panel.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
panel.BorderSizePixel = 0
panel.Parent = ui

-- æ·»åŠ åœ†è§’æ•ˆæœ
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = panel

-- æ·»åŠ é˜´å½±æ•ˆæœ
local shadow = Instance.new("UIStroke")
shadow.Color = Color3.fromRGB(0, 150, 255)
shadow.Thickness = 2
shadow.Parent = panel

-- æ ‡é¢˜æ 
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 40)
titleBar.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
titleBar.BorderSizePixel = 0
titleBar.Parent = panel

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 12)
titleCorner.Parent = titleBar

-- æ ‡é¢˜æ–‡å­—
local title = Instance.new("TextLabel")
title.Size = UDim2.new(0.6, 0, 1, 0)
title.Position = UDim2.new(0.05, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "âš¡playbreakåˆ·ç¥¨âš¡"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 16
title.Font = Enum.Font.GothamBold
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = titleBar

-- å…³é—­æŒ‰é’®
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(0.9, 0, 0.15, 0)
closeBtn.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
closeBtn.Text = "Ã—"
closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeBtn.TextSize = 20
closeBtn.Font = Enum.Font.GothamBold
closeBtn.Parent = titleBar

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(1, 0)
closeCorner.Parent = closeBtn

-- çŠ¶æ€æ˜¾ç¤º
local statusText = Instance.new("TextLabel")
statusText.Size = UDim2.new(1, -20, 0, 40)
statusText.Position = UDim2.new(0, 10, 0, 45)
statusText.BackgroundTransparency = 1
statusText.Text = "é€‰æ‹©åŠŸèƒ½ï¼š"
statusText.TextColor3 = Color3.fromRGB(200, 200, 200)
statusText.TextSize = 14
statusText.Font = Enum.Font.Gotham
statusText.TextWrapped = true
statusText.Parent = panel

-- æŒ‰é’®å®¹å™¨
local buttonContainer = Instance.new("Frame")
buttonContainer.Size = UDim2.new(1, -20, 0, 110)
buttonContainer.Position = UDim2.new(0, 10, 0, 90)
buttonContainer.BackgroundTransparency = 1
buttonContainer.Parent = panel

-- æ¸…ç†æŒ‰é’®
local cleanBtn = Instance.new("TextButton")
cleanBtn.Size = UDim2.new(0.45, 0, 0, 45)
cleanBtn.Position = UDim2.new(0, 0, 0, 0)
cleanBtn.BackgroundColor3 = Color3.fromRGB(76, 175, 80)
cleanBtn.AutoButtonColor = false
cleanBtn.Text = "å¼€å§‹æ‰§è¡Œ"
cleanBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
cleanBtn.TextSize = 14
cleanBtn.Font = Enum.Font.GothamBold
cleanBtn.Parent = buttonContainer

local cleanCorner = Instance.new("UICorner")
cleanCorner.CornerRadius = UDim.new(0, 8)
cleanCorner.Parent = cleanBtn

-- çš®è„šæœ¬æŒ‰é’®
local skinScriptBtn = Instance.new("TextButton")
skinScriptBtn.Size = UDim2.new(0.45, 0, 0, 45)
skinScriptBtn.Position = UDim2.new(0.55, 0, 0, 0)
skinScriptBtn.BackgroundColor3 = Color3.fromRGB(255, 152, 0)
skinScriptBtn.AutoButtonColor = false
skinScriptBtn.Text = "çš®è„šæœ¬å¿«æ·æ–¹å¼"
skinScriptBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
skinScriptBtn.TextSize = 14
skinScriptBtn.Font = Enum.Font.GothamBold
skinScriptBtn.Parent = buttonContainer

local skinCorner = Instance.new("UICorner")
skinCorner.CornerRadius = UDim.new(0, 8)
skinCorner.Parent = skinScriptBtn

-- å…³é—­UIæŒ‰é’®
local closeUIBtn = Instance.new("TextButton")
closeUIBtn.Size = UDim2.new(1, 0, 0, 45)
closeUIBtn.Position = UDim2.new(0, 0, 0, 55)
closeUIBtn.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
closeUIBtn.AutoButtonColor = false
closeUIBtn.Text = "æ°¸ä¹…å…³é—­ç•Œé¢"
closeUIBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeUIBtn.TextSize = 14
closeUIBtn.Font = Enum.Font.GothamBold
closeUIBtn.Parent = buttonContainer

local closeUICorner = Instance.new("UICorner")
closeUICorner.CornerRadius = UDim.new(0, 8)
closeUICorner.Parent = closeUIBtn

-- æŒ‰é’®æ‚¬åœæ•ˆæœ
local function setupButtonHover(button, normalColor, hoverColor)
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = hoverColor
    end)
    
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = normalColor
    end)
end

-- åº”ç”¨æ‚¬åœæ•ˆæœ
setupButtonHover(cleanBtn, 
    Color3.fromRGB(76, 175, 80),
    Color3.fromRGB(86, 185, 90)
)

setupButtonHover(skinScriptBtn,
    Color3.fromRGB(255, 152, 0),
    Color3.fromRGB(255, 172, 20)
)

setupButtonHover(closeUIBtn,
    Color3.fromRGB(150, 150, 150),
    Color3.fromRGB(170, 170, 170)
)

setupButtonHover(closeBtn,
    Color3.fromRGB(255, 60, 60),
    Color3.fromRGB(255, 80, 80)
)

setupButtonHover(floatButton,
    Color3.fromRGB(76, 175, 80),
    Color3.fromRGB(86, 185, 90)
)

-- æ‹–åŠ¨åŠŸèƒ½
local dragging = false
local dragStart, startPos

titleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = panel.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        panel.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- æµ®åŠ¨æŒ‰é’®ç‚¹å‡»å±•å¼€é¢æ¿
floatButton.MouseButton1Click:Connect(function()
    panel.Visible = true
    floatButton.Visible = false
end)

-- å…³é—­æŒ‰é’®åŠŸèƒ½ï¼ˆå…³é—­é¢æ¿ï¼Œæ˜¾ç¤ºæµ®åŠ¨æŒ‰é’®ï¼‰
closeBtn.MouseButton1Click:Connect(function()
    panel.Visible = false
    floatButton.Visible = true
end)

-- å…³é—­UIæŒ‰é’®åŠŸèƒ½ï¼ˆå®Œå…¨å…³é—­æ•´ä¸ªUIï¼‰
closeUIBtn.MouseButton1Click:Connect(function()
    statusText.Text = "æ­£åœ¨å…³é—­...ğŸ˜¢"
    statusText.TextColor3 = Color3.fromRGB(255, 200, 100)
    
    -- ç­‰å¾…0.5ç§’åå…³é—­
    wait(0.5)
    
    -- å®Œå…¨é”€æ¯UI
    ui:Destroy()
    
    -- å‘é€é€šçŸ¥
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "æç¤º",
        Text = "å·²å…³é—­ğŸ˜ª",
        Duration = 2
    })
    
    print("å·²å…³é—­")
end)

-- è„šæœ¬å¤‡ä»½å˜é‡
local scriptBackups = {}

-- æ¸…ç†è„šæœ¬åŠŸèƒ½
cleanBtn.MouseButton1Click:Connect(function()
    local character = localPlayer.Character
    if not character then
        statusText.Text = "âŒ é”™è¯¯ï¼šæœªæ‰¾åˆ°è§’è‰²"
        statusText.TextColor3 = Color3.fromRGB(255, 100, 100)
        return
    end
    
    -- ç¦ç”¨æŒ‰é’®é˜²æ­¢é‡å¤ç‚¹å‡»
    cleanBtn.Text = "å¤„ç†ä¸­..."
    cleanBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    
    -- åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œ
    coroutine.wrap(function()
        local success, result = pcall(function()
            -- æ¸…ç†è„šæœ¬
            statusText.Text = "å¤„ç†è¿›åº¦..."
            statusText.TextColor3 = Color3.fromRGB(255, 255, 100)
            
            local removedCount = 0
            local allDescendants = character:GetDescendants()
            
            for i, descendant in ipairs(allDescendants) do
                if descendant:IsA("Script") or descendant:IsA("LocalScript") then
                    descendant:Destroy()
                    removedCount = removedCount + 1
                end
                
                -- é¿å…å¡é¡¿
                if i % 20 == 0 then
                    task.wait()
                end
            end
            
            return removedCount
        end)
        
        -- æ¢å¤æŒ‰é’®çŠ¶æ€
        cleanBtn.Text = "å¼€å§‹æ‰§è¡Œ"
        cleanBtn.BackgroundColor3 = Color3.fromRGB(76, 175, 80)
        
        if success then
            if type(result) == "number" then
                statusText.Text = string.format("å®Œæˆï¼\nç§»é™¤äº† %d ä¸ªé˜»ç¢", result)
                statusText.TextColor3 = Color3.fromRGB(100, 255, 100)
            else
                statusText.Text = "âŒ é”™è¯¯: " .. tostring(result)
                statusText.TextColor3 = Color3.fromRGB(255, 100, 100)
            end
        else
            statusText.Text = "âŒ æ“ä½œå¤±è´¥: " .. tostring(result)
            statusText.TextColor3 = Color3.fromRGB(255, 100, 100)
        end
        
        task.wait(3)
        statusText.Text = "é€‰æ‹©åŠŸèƒ½ï¼š"
        statusText.TextColor3 = Color3.fromRGB(200, 200, 200)
    end)()
end)

-- çš®è„šæœ¬æŒ‰é’®åŠŸèƒ½
skinScriptBtn.MouseButton1Click:Connect(function()
    -- ç¦ç”¨æŒ‰é’®é˜²æ­¢é‡å¤ç‚¹å‡»
    skinScriptBtn.Text = "åŠ è½½ä¸­..."
    skinScriptBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    
    -- åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œ
    coroutine.wrap(function()
        local success, err = pcall(function()
            statusText.Text = "æ­£åœ¨åŠ è½½çš®è„šæœ¬..."
            statusText.TextColor3 = Color3.fromRGB(255, 255, 100)
            
            -- å‘é€é€šçŸ¥
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "çš®è„šæœ¬",
                Text = "æ­£åœ¨åŠ è½½...",
                Icon = "rbxassetid://28872862",
                Duration = 2
            })
            
            -- åŠ è½½çš®è„šæœ¬
            local scriptUrl = "https://raw.githubusercontent.com/xiaopi77/xiaopi77/main/QQ1002100032-Roblox-Pi-script.lua"
            local scriptContent = game:HttpGet(scriptUrl)
            local func = loadstring(scriptContent)
            
            if func then
                func()
                return true
            else
                return false
            end
        end)
        
        -- æ¢å¤æŒ‰é’®çŠ¶æ€
        skinScriptBtn.Text = "çš®è„šæœ¬"
        skinScriptBtn.BackgroundColor3 = Color3.fromRGB(255, 152, 0)
        
        if success then
            statusText.Text = "âœ… çš®è„šæœ¬åŠ è½½æˆåŠŸï¼"
            statusText.TextColor3 = Color3.fromRGB(100, 255, 100)
            
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "çš®è„šæœ¬",
                Text = "åŠ è½½æˆåŠŸï¼",
                Icon = "rbxassetid://28872862",
                Duration = 3
            })
        else
            statusText.Text = "âŒ åŠ è½½å¤±è´¥: " .. tostring(err)
            statusText.TextColor3 = Color3.fromRGB(255, 100, 100)
            
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "çš®è„šæœ¬é”™è¯¯",
                Text = "åŠ è½½å¤±è´¥",
                Icon = "rbxassetid://14550088217",
                Duration = 3
            })
        end
        
        task.wait(3)
        statusText.Text = "é€‰æ‹©åŠŸèƒ½ï¼š"
        statusText.TextColor3 = Color3.fromRGB(200, 200, 200)
    end)()
end)

print("âœ… è„šæœ¬å·¥å…·ç®±å·²åŠ è½½")
print("ğŸ“± ç‚¹å‡»å·¦ä¸‹è§’æŒ‰é’®æ‰“å¼€å·¥å…·ç®±")
print("åŠŸèƒ½ï¼š")
print("1. ğŸ§¹ æ¸…ç†è„šæœ¬ - æ¸…ç†è§’è‰²æ‰€æœ‰è„šæœ¬")
print("2. ğŸš€ çš®è„šæœ¬ - åŠ è½½è¿œç¨‹è„šæœ¬")
print("3. âŒ å…³é—­å·¥å…·ç®± - å®Œå…¨å…³é—­UI")
